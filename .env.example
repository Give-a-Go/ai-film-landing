# Email Octopus Environment Variables

## Required Environment Variables

To enable the waitlist email capture functionality, you need to configure the following environment variables:

### EMAIL_OCTOPUS_API_KEY
Your EmailOctopus API v2 key (used as a Bearer token). You can generate this in your EmailOctopus account settings under "Developer" → "API Keys".

**Important**: If your existing API key is labeled as "legacy" in EmailOctopus, you must generate a new API key for v2 compatibility. New keys work with all API versions.

### EMAIL_OCTOPUS_LIST_ID
The ID of the EmailOctopus list where waitlist emails should be added. You can find this in the URL when viewing your list (e.g., `https://emailoctopus.com/lists/{list-id}`).

## Local Development Setup

1. Create a `.env.local` file in the project root:
```bash
EMAIL_OCTOPUS_API_KEY=your_api_key_here
EMAIL_OCTOPUS_LIST_ID=your_list_id_here
```

2. Install Vercel CLI for local testing (optional):
```bash
npm install -g vercel
```

3. Run the development server:
```bash
npm run dev
# or with Vercel CLI to test serverless functions locally:
vercel dev
```

## Vercel Deployment Setup

1. Go to your Vercel project settings
2. Navigate to "Environment Variables"
3. Add both variables:
   - `EMAIL_OCTOPUS_API_KEY` - Your EmailOctopus API key
   - `EMAIL_OCTOPUS_LIST_ID` - Your EmailOctopus list ID
4. Make sure to add them for all environments (Production, Preview, Development)

## Getting EmailOctopus Credentials

1. Sign up for an EmailOctopus account at https://emailoctopus.com
2. Create a new list for your waitlist
3. Go to Settings → API to generate an API key
4. Copy the list ID from your list's URL or settings page

## Testing the API

Once deployed, you can test the API endpoint:

```bash
curl -X POST https://your-domain.vercel.app/api/subscribe \
  -H "Content-Type: application/json" \
  -d '{"email": "test@example.com"}'
```

Expected response:
```json
{
  "success": true,
  "message": "Successfully added to waitlist!"
}
```
